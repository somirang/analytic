{"ast":null,"code":"import _regeneratorRuntime from\"/Users/haesol/Desktop/mediround-user-web-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/haesol/Desktop/mediround-user-web-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/haesol/Desktop/mediround-user-web-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/haesol/Desktop/mediround-user-web-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/haesol/Desktop/mediround-user-web-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withRouter}from\"react-router\";import\"./QuoteDetail.scss\";import hospital_profile_default from\"../../images/hospital_profile_default.svg\";import downArrowBlackIcon from\"../../images/down-arrow-black-icon.svg\";import downArrowIcon from\"../../images/down-arrow-icon.svg\";import{getHospitalQuote}from\"../../api/quote\";import{Loading}from\"../Hospital/Containers/Request\";import{getInterestedProcsFromQuote}from\"../../utils\";import Button from\"../../components/Button/Button\";import{FormattedMessage}from\"react-intl\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecommendedProcedureItem=function RecommendedProcedureItem(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isArrowUp=_useState2[0],setIsArrowUp=_useState2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-subtitle\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-subtitle-num\",children:props.nth}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-subtitle-text\",children:props.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item purple price\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryCost\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-title-content\",children:\"$\".concat(props.priceMin.toLocaleString(),\" - $\").concat(props.priceMax.toLocaleString())})]}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-help-text\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.costMayChange\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.expectationOfEffect\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.operationPlan\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-body\",children:props.methodology})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-header \".concat(isArrowUp?\"detailed\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"quote-detail-recommended-procedure-related-arrow \".concat(isArrowUp?\"rotated\":\"\"),src:downArrowIcon,alt:\"down-arrow\",onClick:function onClick(e){e.stopPropagation();setIsArrowUp(!isArrowUp);}})]}),isArrowUp&&/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated.operationTime\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-content\",children:props.operationTime})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated.anesthesiaMethod\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-content\",children:props.anesthesiaType})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated.recoveryTime\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-content\",children:props.recoveryTime})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated.seamRemovalDuration\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-content\",children:props.sutureRemovalTime})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row paragraph\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated.precautions\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-content paragraph\",children:props.warning})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row paragraph\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.surgeryRelated.afterCare\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedure-sub-item-row-content paragraph\",children:props.afterCare})]})]})]})]});};export var QuoteDetailHeader=function QuoteDetailHeader(props){var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isMore=_useState4[0],setIsMore=_useState4[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-header-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-greetings\",children:[\"Dear \",props.name,\",\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-hospital-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-hospital-profile-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"quote-detail-hospital-profile-img\",src:props.hospitalProfileImg?props.hospitalProfileImg:hospital_profile_default,alt:\"quote-detail-hospital-profile-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-hospital-basic-info-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-hospital-name\",children:props.hospitalName}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-hospital-addr\",children:props.hospitalAddr})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-about-hospital quote-detail-info-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-about-hospital-title quote-detail-info-subtitle\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.aboutHospital\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-about-hospital-content \".concat(isMore?\"see-more\":\"\"),children:props.hospitalAbout}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-about-hospital-see-more \".concat(isMore?\"see-less\":\"\"),onClick:function onClick(){return setIsMore(!isMore);},children:[/*#__PURE__*/_jsx(FormattedMessage,{id:isMore?\"form.case1.seeLess\":\"form.case1.seeMore\"}),/*#__PURE__*/_jsx(\"img\",{className:\"quote-detail-about-hospital-see-more-arrow-icon \".concat(isMore?\"rotated\":\"\"),src:downArrowBlackIcon,alt:\"down-arrow\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-interested-procedure quote-detail-info-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-interested-procedure-title quote-detail-info-subtitle\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.interestedProcedure\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-interested-procedure-text\",children:props.interestedProcedures.join(\", \")}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-interested-procedure-images \".concat(props.isPreview?\"small-preview\":\"\"),children:_toConsumableArray(new Array(5).keys()).map(function(i){return/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-interested-procedure-img-placeholder \".concat(props.isPreview?\"small-preview\":\"\")},i);})})]})]});};var QuoteDetail=withRouter(function(props){// TODO: fetch quote with corresponding quoteId\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-container\",children:[/*#__PURE__*/_jsx(QuoteDetailHeader,_objectSpread({},props)),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-recommended-procedures-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-recommended-procedures-title\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"quote.procedureRecommendation\"})}),props.recommendedProcs.map(function(proc,ind){var indProc=_objectSpread(_objectSpread({},proc),{},{nth:ind+1});return/*#__PURE__*/_jsx(RecommendedProcedureItem,_objectSpread({},indProc),ind);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-detail-main-button-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-main-button-wrapper\",children:/*#__PURE__*/_jsx(Button,{text:\"Free consultation\",textId:\"button.consultation\",theme:\"primary\",shape:\"square\",style:{fontSize:\"14px\"},onClick:function onClick(){return props.history.push(\"/mypage/reserve/\".concat(props.hid,\"/\").concat(props.qid));}})}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-detail-main-button-wrapper\",children:/*#__PURE__*/_jsx(Button,{text:\"See quote list\",textId:\"button.seeQuoteList\",theme:\"white\",shape:\"square\",style:{fontSize:\"14px\"},onClick:function onClick(){return props.history.push(\"/mypage/quotes\");}})})]})]});});var QuoteDetailWrapper=function QuoteDetailWrapper(props){var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),detailedQuote=_useState8[0],setDetailedQuote=_useState8[1];useEffect(function(){setIsLoading(true);var fetchRequestQuotes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var quoteData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getHospitalQuote({hid:props.match.params.hid,qid:props.match.params.qid});case 2:quoteData=_context.sent;return _context.abrupt(\"return\",quoteData.result);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchRequestQuotes(){return _ref.apply(this,arguments);};}();fetchRequestQuotes().then(function(quote){console.log(\"AAA\");console.log(\"quote\",quote);setDetailedQuote(quote);setIsLoading(false);}).catch(function(e){console.log(\"BBB\");console.error(\"QuoteDetail\",e);setIsLoading(false);});},[]);return isLoading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(QuoteDetail,{qid:props.match.params.qid,hid:props.match.params.hid,name:detailedQuote===null||detailedQuote===void 0?void 0:detailedQuote.userInfo.name,hospitalName:detailedQuote===null||detailedQuote===void 0?void 0:detailedQuote.hospitalInfo.name,hospitalAddr:detailedQuote===null||detailedQuote===void 0?void 0:detailedQuote.hospitalInfo.addr,hospitalAbout:detailedQuote===null||detailedQuote===void 0?void 0:detailedQuote.hospitalInfo.about,interestedProcedures:getInterestedProcsFromQuote(detailedQuote===null||detailedQuote===void 0?void 0:detailedQuote.quoteInfo.quote),recommendedProcs:detailedQuote===null||detailedQuote===void 0?void 0:detailedQuote.suggestedSurgeries});};export default QuoteDetailWrapper;","map":{"version":3,"sources":["/Users/haesol/Desktop/mediround-user-web-master/src/pages/My/QuoteDetail.tsx"],"names":["React","useEffect","useState","withRouter","getHospitalQuote","Loading","getInterestedProcsFromQuote","Button","FormattedMessage","RecommendedProcedureItem","props","isArrowUp","setIsArrowUp","nth","name","priceMin","toLocaleString","priceMax","methodology","downArrowIcon","e","stopPropagation","operationTime","anesthesiaType","recoveryTime","sutureRemovalTime","warning","afterCare","QuoteDetailHeader","isMore","setIsMore","hospitalProfileImg","hospital_profile_default","hospitalName","hospitalAddr","hospitalAbout","downArrowBlackIcon","interestedProcedures","join","isPreview","Array","keys","map","i","QuoteDetail","recommendedProcs","proc","ind","indProc","fontSize","history","push","hid","qid","QuoteDetailWrapper","isLoading","setIsLoading","detailedQuote","setDetailedQuote","fetchRequestQuotes","match","params","quoteData","result","then","quote","console","log","catch","error","userInfo","hospitalInfo","addr","about","quoteInfo","suggestedSurgeries"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport \"./QuoteDetail.scss\";\nimport hospital_profile_default from \"../../images/hospital_profile_default.svg\";\nimport downArrowBlackIcon from \"../../images/down-arrow-black-icon.svg\";\nimport downArrowIcon from \"../../images/down-arrow-icon.svg\";\nimport { getHospitalQuote } from \"../../api/quote\";\nimport { Loading, QuoteDataProps } from \"../Hospital/Containers/Request\";\nimport { getInterestedProcsFromQuote } from \"../../utils\";\nimport Button from \"../../components/Button/Button\";\nimport { FormattedMessage } from \"react-intl\";\n\ninterface ProcDetailProps {\n  operationTime: string;\n  anesthesiaType: string;\n  recoveryTime: string;\n  sutureRemovalTime: string;\n  warning: string;\n  afterCare: string;\n}\n\ninterface ProcProps extends ProcDetailProps {\n  name: string;\n  priceMin: number;\n  priceMax: number;\n  methodology: string;\n}\n\ninterface ProcPropsWithInd extends ProcProps {\n  nth: number;\n}\n\ninterface QuoteDetailHeaderProps {\n  name: string;\n  hospitalProfileImg?: string;\n  hospitalName: string;\n  hospitalAddr: string;\n  hospitalAbout: string;\n  interestedProcedures: string[];\n  isPreview?: boolean;\n}\n\ninterface Props extends QuoteDetailHeaderProps, RouteComponentProps {\n  qid: string;\n  hid: string;\n  recommendedProcs: ProcProps[];\n}\n\nconst RecommendedProcedureItem = (props: ProcPropsWithInd) => {\n  const [isArrowUp, setIsArrowUp] = useState(false);\n  return (\n    <div className=\"quote-detail-recommended-procedure-item\">\n      <div className=\"quote-detail-recommended-procedure-subtitle\">\n        <div className=\"quote-detail-recommended-procedure-subtitle-num\">\n          {props.nth}\n        </div>\n        <div className=\"quote-detail-recommended-procedure-subtitle-text\">\n          {props.name}\n        </div>\n      </div>\n      <div className=\"quote-detail-recommended-procedure-sub-item purple price\">\n        <div className=\"quote-detail-recommended-procedure-sub-item-header\">\n          <div className=\"quote-detail-recommended-procedure-sub-item-title\">\n            <FormattedMessage id=\"quote.surgeryCost\" />\n          </div>\n          <div className=\"quote-detail-recommended-procedure-sub-item-title-content\">{`$${props.priceMin.toLocaleString()} - $${props.priceMax.toLocaleString()}`}</div>\n        </div>\n        <div className=\"quote-detail-recommended-procedure-sub-item-help-text\">\n          <FormattedMessage id=\"quote.costMayChange\" />\n        </div>\n      </div>\n      <div className=\"quote-detail-recommended-procedure-sub-item\">\n        <div className=\"quote-detail-recommended-procedure-sub-item-header\">\n          <div className=\"quote-detail-recommended-procedure-sub-item-title\">\n            <FormattedMessage id=\"quote.expectationOfEffect\" />\n          </div>\n        </div>\n      </div>\n      <div className=\"quote-detail-recommended-procedure-sub-item\">\n        <div className=\"quote-detail-recommended-procedure-sub-item-header\">\n          <div className=\"quote-detail-recommended-procedure-sub-item-title\">\n            <FormattedMessage id=\"quote.operationPlan\" />\n          </div>\n        </div>\n        <div className=\"quote-detail-recommended-procedure-sub-item-body\">\n          {props.methodology}\n        </div>\n      </div>\n      <div className=\"quote-detail-recommended-procedure-sub-item\">\n        <div\n          className={`quote-detail-recommended-procedure-sub-item-header ${\n            isArrowUp ? \"detailed\" : \"\"\n          }`}\n        >\n          <div className=\"quote-detail-recommended-procedure-sub-item-title\">\n            <FormattedMessage id=\"quote.surgeryRelated\" />\n          </div>\n          <img\n            className={`quote-detail-recommended-procedure-related-arrow ${\n              isArrowUp ? \"rotated\" : \"\"\n            }`}\n            src={downArrowIcon}\n            alt=\"down-arrow\"\n            onClick={(e) => {\n              e.stopPropagation();\n              setIsArrowUp(!isArrowUp);\n            }}\n          />\n        </div>\n        {isArrowUp && (\n          <div className=\"quote-detail-recommended-procedure-sub-item-body\">\n            <div className=\"quote-detail-recommended-procedure-sub-item-row\">\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-title\">\n                <FormattedMessage id=\"quote.surgeryRelated.operationTime\" />\n              </div>\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-content\">\n                {props.operationTime}\n              </div>\n            </div>\n            <div className=\"quote-detail-recommended-procedure-sub-item-row\">\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-title\">\n                <FormattedMessage id=\"quote.surgeryRelated.anesthesiaMethod\" />\n              </div>\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-content\">\n                {props.anesthesiaType}\n              </div>\n            </div>\n            <div className=\"quote-detail-recommended-procedure-sub-item-row\">\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-title\">\n                <FormattedMessage id=\"quote.surgeryRelated.recoveryTime\" />\n              </div>\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-content\">\n                {props.recoveryTime}\n              </div>\n            </div>\n            <div className=\"quote-detail-recommended-procedure-sub-item-row\">\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-title\">\n                <FormattedMessage id=\"quote.surgeryRelated.seamRemovalDuration\" />\n              </div>\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-content\">\n                {props.sutureRemovalTime}\n              </div>\n            </div>\n            <div className=\"quote-detail-recommended-procedure-sub-item-row paragraph\">\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-title\">\n                <FormattedMessage id=\"quote.surgeryRelated.precautions\" />\n              </div>\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-content paragraph\">\n                {props.warning}\n              </div>\n            </div>\n            <div className=\"quote-detail-recommended-procedure-sub-item-row paragraph\">\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-title\">\n                <FormattedMessage id=\"quote.surgeryRelated.afterCare\" />\n              </div>\n              <div className=\"quote-detail-recommended-procedure-sub-item-row-content paragraph\">\n                {props.afterCare}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport const QuoteDetailHeader = (props: QuoteDetailHeaderProps) => {\n  const [isMore, setIsMore] = useState(false);\n  return (\n    <div className=\"quote-detail-header-container\">\n      <div className=\"quote-detail-greetings\">Dear {props.name},</div>\n      <div className=\"quote-detail-hospital-header\">\n        <div className=\"quote-detail-hospital-profile-container\">\n          <img\n            className=\"quote-detail-hospital-profile-img\"\n            src={\n              props.hospitalProfileImg\n                ? props.hospitalProfileImg\n                : hospital_profile_default\n            }\n            alt=\"quote-detail-hospital-profile-img\"\n          />\n        </div>\n        <div className=\"quote-detail-hospital-basic-info-container\">\n          <div className=\"quote-detail-hospital-name\">{props.hospitalName}</div>\n          <div className=\"quote-detail-hospital-addr\">{props.hospitalAddr}</div>\n        </div>\n      </div>\n      <div className=\"quote-detail-about-hospital quote-detail-info-item\">\n        <div className=\"quote-detail-about-hospital-title quote-detail-info-subtitle\">\n          <FormattedMessage id=\"quote.aboutHospital\" />\n        </div>\n        <div\n          className={`quote-detail-about-hospital-content ${\n            isMore ? \"see-more\" : \"\"\n          }`}\n        >\n          {props.hospitalAbout}\n        </div>\n        <div\n          className={`quote-detail-about-hospital-see-more ${\n            isMore ? \"see-less\" : \"\"\n          }`}\n          onClick={() => setIsMore(!isMore)}\n        >\n          <FormattedMessage\n            id={isMore ? \"form.case1.seeLess\" : \"form.case1.seeMore\"}\n          />\n          <img\n            className={`quote-detail-about-hospital-see-more-arrow-icon ${\n              isMore ? \"rotated\" : \"\"\n            }`}\n            src={downArrowBlackIcon}\n            alt=\"down-arrow\"\n          />\n        </div>\n      </div>\n      <div className=\"quote-detail-interested-procedure quote-detail-info-item\">\n        <div className=\"quote-detail-interested-procedure-title quote-detail-info-subtitle\">\n          <FormattedMessage id=\"quote.interestedProcedure\" />\n        </div>\n        <div className=\"quote-detail-interested-procedure-text\">\n          {props.interestedProcedures.join(\", \")}\n        </div>\n        <div\n          className={`quote-detail-interested-procedure-images ${\n            props.isPreview ? \"small-preview\" : \"\"\n          }`}\n        >\n          {/* TODO: replace with images */}\n          {[...new Array(5).keys()].map((i) => (\n            <div\n              className={`quote-detail-interested-procedure-img-placeholder ${\n                props.isPreview ? \"small-preview\" : \"\"\n              }`}\n              key={i}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst QuoteDetail = withRouter((props: Props) => {\n  // TODO: fetch quote with corresponding quoteId\n  return (\n    <div className=\"quote-detail-container\">\n      <QuoteDetailHeader {...props} />\n      <div className=\"quote-detail-recommended-procedures-container\">\n        <div className=\"quote-detail-recommended-procedures-title\">\n          <FormattedMessage id=\"quote.procedureRecommendation\" />\n        </div>\n        {props.recommendedProcs.map((proc, ind) => {\n          const indProc = { ...proc, nth: ind + 1 };\n          return <RecommendedProcedureItem key={ind} {...indProc} />;\n        })}\n      </div>\n      <div className=\"quote-detail-main-button-container\">\n        <div className=\"quote-detail-main-button-wrapper\">\n          <Button\n            text=\"Free consultation\"\n            textId=\"button.consultation\"\n            theme=\"primary\"\n            shape=\"square\"\n            style={{ fontSize: \"14px\" }}\n            onClick={() =>\n              props.history.push(`/mypage/reserve/${props.hid}/${props.qid}`)\n            }\n          />\n        </div>\n        <div className=\"quote-detail-main-button-wrapper\">\n          <Button\n            text=\"See quote list\"\n            textId=\"button.seeQuoteList\"\n            theme=\"white\"\n            shape=\"square\"\n            style={{ fontSize: \"14px\" }}\n            onClick={() => props.history.push(\"/mypage/quotes\")}\n          />\n        </div>\n      </div>\n    </div>\n  );\n});\n\nconst QuoteDetailWrapper = (props: RouteComponentProps<any>) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [detailedQuote, setDetailedQuote] = useState<QuoteDataProps>();\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchRequestQuotes = async () => {\n      // TODO: get hospital Id\n      const quoteData = await getHospitalQuote({\n        hid: props.match.params.hid,\n        qid: props.match.params.qid,\n      });\n      return quoteData.result;\n    };\n    fetchRequestQuotes()\n      .then((quote: QuoteDataProps) => {\n        console.log(\"AAA\");\n        console.log(\"quote\", quote);\n        setDetailedQuote(quote);\n        setIsLoading(false);\n      })\n      .catch((e) => {\n        console.log(\"BBB\");\n        console.error(\"QuoteDetail\", e);\n        setIsLoading(false);\n      });\n  }, []);\n\n  return isLoading ? (\n    <Loading />\n  ) : (\n    <QuoteDetail\n      qid={props.match.params.qid}\n      hid={props.match.params.hid}\n      name={detailedQuote?.userInfo.name!}\n      hospitalName={detailedQuote?.hospitalInfo.name!}\n      hospitalAddr={detailedQuote?.hospitalInfo.addr!}\n      hospitalAbout={detailedQuote?.hospitalInfo.about!}\n      interestedProcedures={getInterestedProcsFromQuote(\n        detailedQuote?.quoteInfo.quote!,\n      )}\n      recommendedProcs={detailedQuote?.suggestedSurgeries}\n    />\n  );\n};\n\nexport default QuoteDetailWrapper;\n"]},"metadata":{},"sourceType":"module"}