{"ast":null,"code":"import { DATE_TIME_PROPS } from './utils';\nimport { ToLocalTime } from './ToLocalTime';\nimport { TimeClip } from '../262';\n\nfunction pad(n) {\n  if (n < 10) {\n    return \"0\" + n;\n  }\n\n  return String(n);\n}\n\nfunction offsetToGmtString(gmtFormat, hourFormat, offsetInMs, style) {\n  var offsetInMinutes = Math.floor(offsetInMs / 60000);\n  var mins = Math.abs(offsetInMinutes) % 60;\n  var hours = Math.floor(Math.abs(offsetInMinutes) / 60);\n\n  var _a = hourFormat.split(';'),\n      positivePattern = _a[0],\n      negativePattern = _a[1];\n\n  var offsetStr = '';\n  var pattern = offsetInMs < 0 ? negativePattern : positivePattern;\n\n  if (style === 'long') {\n    offsetStr = pattern.replace('HH', pad(hours)).replace('H', String(hours)).replace('mm', pad(mins)).replace('m', String(mins));\n  } else if (mins || hours) {\n    if (!mins) {\n      pattern = pattern.replace(/:?m+/, '');\n    }\n\n    offsetStr = pattern.replace(/H+/, String(hours)).replace(/m+/, String(mins));\n  }\n\n  return gmtFormat.replace('{0}', offsetStr);\n}\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\n\n\nexport function FormatDateTimePattern(dtf, patternParts, x, _a) {\n  var getInternalSlots = _a.getInternalSlots,\n      localeData = _a.localeData,\n      getDefaultTimeZone = _a.getDefaultTimeZone,\n      tzData = _a.tzData;\n  x = TimeClip(x);\n  /** IMPL START */\n\n  var internalSlots = getInternalSlots(dtf);\n  var dataLocale = internalSlots.dataLocale;\n  var dataLocaleData = localeData[dataLocale];\n  /** IMPL END */\n\n  var locale = internalSlots.locale;\n  var nfOptions = Object.create(null);\n  nfOptions.useGrouping = false;\n  var nf = new Intl.NumberFormat(locale, nfOptions);\n  var nf2Options = Object.create(null);\n  nf2Options.minimumIntegerDigits = 2;\n  nf2Options.useGrouping = false;\n  var nf2 = new Intl.NumberFormat(locale, nf2Options);\n  var fractionalSecondDigits = internalSlots.fractionalSecondDigits;\n  var nf3;\n\n  if (fractionalSecondDigits !== undefined) {\n    var nf3Options = Object.create(null);\n    nf3Options.minimumIntegerDigits = fractionalSecondDigits;\n    nf3Options.useGrouping = false;\n    nf3 = new Intl.NumberFormat(locale, nf3Options);\n  }\n\n  var tm = ToLocalTime(x, // @ts-ignore\n  internalSlots.calendar, internalSlots.timeZone, {\n    tzData: tzData\n  });\n  var result = [];\n\n  for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n    var patternPart = patternParts_1[_i];\n    var p = patternPart.type;\n\n    if (p === 'literal') {\n      result.push({\n        type: 'literal',\n        value: patternPart.value\n      });\n    } else if (p === 'fractionalSecondDigits') {\n      var v = Math.floor(tm.millisecond * Math.pow(10, (fractionalSecondDigits || 0) - 3));\n      result.push({\n        // @ts-expect-error Spec is not there yet\n        type: 'fractionalSecond',\n        value: nf3.format(v)\n      });\n    } else if (DATE_TIME_PROPS.indexOf(p) > -1) {\n      var fv = '';\n      var f = internalSlots[p]; // @ts-ignore\n\n      var v = tm[p];\n\n      if (p === 'year' && v <= 0) {\n        v = 1 - v;\n      }\n\n      if (p === 'month') {\n        v++;\n      }\n\n      var hourCycle = internalSlots.hourCycle;\n\n      if (p === 'hour' && (hourCycle === 'h11' || hourCycle === 'h12')) {\n        v = v % 12;\n\n        if (v === 0 && hourCycle === 'h12') {\n          v = 12;\n        }\n      }\n\n      if (p === 'hour' && hourCycle === 'h24') {\n        if (v === 0) {\n          v = 24;\n        }\n      }\n\n      if (f === 'numeric') {\n        fv = nf.format(v);\n      } else if (f === '2-digit') {\n        fv = nf2.format(v);\n\n        if (fv.length > 2) {\n          fv = fv.slice(fv.length - 2, fv.length);\n        }\n      } else if (f === 'narrow' || f === 'short' || f === 'long') {\n        if (p === 'era') {\n          fv = dataLocaleData[p][f][v];\n        } else if (p === 'timeZoneName') {\n          var timeZoneName = dataLocaleData.timeZoneName,\n              gmtFormat = dataLocaleData.gmtFormat,\n              hourFormat = dataLocaleData.hourFormat;\n          var timeZone = internalSlots.timeZone || getDefaultTimeZone();\n          var timeZoneData = timeZoneName[timeZone];\n\n          if (timeZoneData && timeZoneData[f]) {\n            fv = timeZoneData[f][+tm.inDST];\n          } else {\n            // Fallback to gmtFormat\n            fv = offsetToGmtString(gmtFormat, hourFormat, tm.timeZoneOffset, f);\n          }\n        } else if (p === 'month') {\n          fv = dataLocaleData.month[f][v - 1];\n        } else {\n          fv = dataLocaleData[p][f][v];\n        }\n      }\n\n      result.push({\n        type: p,\n        value: fv\n      });\n    } else if (p === 'ampm') {\n      var v = tm.hour;\n      var fv = void 0;\n\n      if (v > 11) {\n        fv = dataLocaleData.pm;\n      } else {\n        fv = dataLocaleData.am;\n      }\n\n      result.push({\n        type: 'dayPeriod',\n        value: fv\n      });\n    } else if (p === 'relatedYear') {\n      var v = tm.relatedYear; // @ts-ignore\n\n      var fv = nf.format(v);\n      result.push({\n        // @ts-ignore TODO: Fix TS type\n        type: 'relatedYear',\n        value: fv\n      });\n    } else if (p === 'yearName') {\n      var v = tm.yearName; // @ts-ignore\n\n      var fv = nf.format(v);\n      result.push({\n        // @ts-ignore TODO: Fix TS type\n        type: 'yearName',\n        value: fv\n      });\n    }\n  }\n\n  return result;\n}","map":{"version":3,"sources":["/Users/haesol/Desktop/mediround-user-web/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimePattern.js"],"names":["DATE_TIME_PROPS","ToLocalTime","TimeClip","pad","n","String","offsetToGmtString","gmtFormat","hourFormat","offsetInMs","style","offsetInMinutes","Math","floor","mins","abs","hours","_a","split","positivePattern","negativePattern","offsetStr","pattern","replace","FormatDateTimePattern","dtf","patternParts","x","getInternalSlots","localeData","getDefaultTimeZone","tzData","internalSlots","dataLocale","dataLocaleData","locale","nfOptions","Object","create","useGrouping","nf","Intl","NumberFormat","nf2Options","minimumIntegerDigits","nf2","fractionalSecondDigits","nf3","undefined","nf3Options","tm","calendar","timeZone","result","_i","patternParts_1","length","patternPart","p","type","push","value","v","millisecond","pow","format","indexOf","fv","f","hourCycle","slice","timeZoneName","timeZoneData","inDST","timeZoneOffset","month","hour","pm","am","relatedYear","yearName"],"mappings":"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","sourcesContent":["import { DATE_TIME_PROPS } from './utils';\nimport { ToLocalTime } from './ToLocalTime';\nimport { TimeClip } from '../262';\nfunction pad(n) {\n    if (n < 10) {\n        return \"0\" + n;\n    }\n    return String(n);\n}\nfunction offsetToGmtString(gmtFormat, hourFormat, offsetInMs, style) {\n    var offsetInMinutes = Math.floor(offsetInMs / 60000);\n    var mins = Math.abs(offsetInMinutes) % 60;\n    var hours = Math.floor(Math.abs(offsetInMinutes) / 60);\n    var _a = hourFormat.split(';'), positivePattern = _a[0], negativePattern = _a[1];\n    var offsetStr = '';\n    var pattern = offsetInMs < 0 ? negativePattern : positivePattern;\n    if (style === 'long') {\n        offsetStr = pattern\n            .replace('HH', pad(hours))\n            .replace('H', String(hours))\n            .replace('mm', pad(mins))\n            .replace('m', String(mins));\n    }\n    else if (mins || hours) {\n        if (!mins) {\n            pattern = pattern.replace(/:?m+/, '');\n        }\n        offsetStr = pattern.replace(/H+/, String(hours)).replace(/m+/, String(mins));\n    }\n    return gmtFormat.replace('{0}', offsetStr);\n}\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function FormatDateTimePattern(dtf, patternParts, x, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, getDefaultTimeZone = _a.getDefaultTimeZone, tzData = _a.tzData;\n    x = TimeClip(x);\n    /** IMPL START */\n    var internalSlots = getInternalSlots(dtf);\n    var dataLocale = internalSlots.dataLocale;\n    var dataLocaleData = localeData[dataLocale];\n    /** IMPL END */\n    var locale = internalSlots.locale;\n    var nfOptions = Object.create(null);\n    nfOptions.useGrouping = false;\n    var nf = new Intl.NumberFormat(locale, nfOptions);\n    var nf2Options = Object.create(null);\n    nf2Options.minimumIntegerDigits = 2;\n    nf2Options.useGrouping = false;\n    var nf2 = new Intl.NumberFormat(locale, nf2Options);\n    var fractionalSecondDigits = internalSlots.fractionalSecondDigits;\n    var nf3;\n    if (fractionalSecondDigits !== undefined) {\n        var nf3Options = Object.create(null);\n        nf3Options.minimumIntegerDigits = fractionalSecondDigits;\n        nf3Options.useGrouping = false;\n        nf3 = new Intl.NumberFormat(locale, nf3Options);\n    }\n    var tm = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        var p = patternPart.type;\n        if (p === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else if (p === 'fractionalSecondDigits') {\n            var v = Math.floor(tm.millisecond * Math.pow(10, ((fractionalSecondDigits || 0) - 3)));\n            result.push({\n                // @ts-expect-error Spec is not there yet\n                type: 'fractionalSecond',\n                value: nf3.format(v),\n            });\n        }\n        else if (DATE_TIME_PROPS.indexOf(p) > -1) {\n            var fv = '';\n            var f = internalSlots[p];\n            // @ts-ignore\n            var v = tm[p];\n            if (p === 'year' && v <= 0) {\n                v = 1 - v;\n            }\n            if (p === 'month') {\n                v++;\n            }\n            var hourCycle = internalSlots.hourCycle;\n            if (p === 'hour' && (hourCycle === 'h11' || hourCycle === 'h12')) {\n                v = v % 12;\n                if (v === 0 && hourCycle === 'h12') {\n                    v = 12;\n                }\n            }\n            if (p === 'hour' && hourCycle === 'h24') {\n                if (v === 0) {\n                    v = 24;\n                }\n            }\n            if (f === 'numeric') {\n                fv = nf.format(v);\n            }\n            else if (f === '2-digit') {\n                fv = nf2.format(v);\n                if (fv.length > 2) {\n                    fv = fv.slice(fv.length - 2, fv.length);\n                }\n            }\n            else if (f === 'narrow' || f === 'short' || f === 'long') {\n                if (p === 'era') {\n                    fv = dataLocaleData[p][f][v];\n                }\n                else if (p === 'timeZoneName') {\n                    var timeZoneName = dataLocaleData.timeZoneName, gmtFormat = dataLocaleData.gmtFormat, hourFormat = dataLocaleData.hourFormat;\n                    var timeZone = internalSlots.timeZone || getDefaultTimeZone();\n                    var timeZoneData = timeZoneName[timeZone];\n                    if (timeZoneData && timeZoneData[f]) {\n                        fv = timeZoneData[f][+tm.inDST];\n                    }\n                    else {\n                        // Fallback to gmtFormat\n                        fv = offsetToGmtString(gmtFormat, hourFormat, tm.timeZoneOffset, f);\n                    }\n                }\n                else if (p === 'month') {\n                    fv = dataLocaleData.month[f][v - 1];\n                }\n                else {\n                    fv = dataLocaleData[p][f][v];\n                }\n            }\n            result.push({\n                type: p,\n                value: fv,\n            });\n        }\n        else if (p === 'ampm') {\n            var v = tm.hour;\n            var fv = void 0;\n            if (v > 11) {\n                fv = dataLocaleData.pm;\n            }\n            else {\n                fv = dataLocaleData.am;\n            }\n            result.push({\n                type: 'dayPeriod',\n                value: fv,\n            });\n        }\n        else if (p === 'relatedYear') {\n            var v = tm.relatedYear;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'relatedYear',\n                value: fv,\n            });\n        }\n        else if (p === 'yearName') {\n            var v = tm.yearName;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'yearName',\n                value: fv,\n            });\n        }\n    }\n    return result;\n}\n"]},"metadata":{},"sourceType":"module"}