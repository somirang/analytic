{"ast":null,"code":"import _regeneratorRuntime from\"/Users/haesol/Desktop/mediround-user-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/haesol/Desktop/mediround-user-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/haesol/Desktop/mediround-user-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{getHospital}from\"../../api/hospital\";import Button from\"../../components/Button/Button\";import InfoInput from\"../../components/Input/InfoInput\";import Modal from\"../../components/Modal/Modal\";import{setHospital}from\"../../store/reducers/hospital\";import\"./SignIn.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),pinCode=_useState2[0],setPinCode=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showSignInErrorModal=_useState6[0],setShowSignInErrorModal=_useState6[1];var dispatch=useDispatch();var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var hospitalData,hospital;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return getHospital({hid:pinCode});case 3:hospitalData=_context.sent;if(hospitalData){hospital=hospitalData.result;dispatch(setHospital(hospital));}else{setIsLoading(false);setShowSignInErrorModal(true);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"hospital-sign-in-background\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hospital-sign-in-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hospital-sign-in-input-container\",children:/*#__PURE__*/_jsx(InfoInput,{title:\"Enter hospital PIN code\",value:pinCode,onChange:function onChange(e){return setPinCode(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"hospital-sign-in-submit-button-container\",children:/*#__PURE__*/_jsx(Button,{text:\"Submit\",shape:\"square\",theme:\"primary\",size:\"small\",isDisabled:pinCode===\"\",onClick:submitHandler,isLoading:isLoading})})]}),showSignInErrorModal&&/*#__PURE__*/_jsx(Modal,{openController:setShowSignInErrorModal,header:\"Sign In Failed\",body:\"Please check your PIN number and try again.\"})]});};export default SignIn;","map":{"version":3,"sources":["/Users/haesol/Desktop/mediround-user-web/src/pages/Hospital/SignIn.tsx"],"names":["React","useState","useDispatch","getHospital","Button","InfoInput","Modal","setHospital","SignIn","pinCode","setPinCode","isLoading","setIsLoading","showSignInErrorModal","setShowSignInErrorModal","dispatch","submitHandler","hid","hospitalData","hospital","result","e","target","value"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,oBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,OAASC,WAAT,KAA4B,+BAA5B,CACA,MAAO,eAAP,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACWP,QAAQ,CAAC,EAAD,CADnB,wCACZQ,OADY,eACHC,UADG,8BAEeT,QAAQ,CAAC,KAAD,CAFvB,yCAEZU,SAFY,eAEDC,YAFC,8BAGqCX,QAAQ,CAAC,KAAD,CAH7C,yCAGZY,oBAHY,eAGUC,uBAHV,eAInB,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,aAAa,0FAAG,6JACpBJ,YAAY,CAAC,IAAD,CAAZ,CADoB,sBAEOT,CAAAA,WAAW,CAAC,CAAEc,GAAG,CAAER,OAAP,CAAD,CAFlB,QAEdS,YAFc,eAGpB,GAAIA,YAAJ,CAAkB,CACVC,QADU,CACCD,YAAY,CAACE,MADd,CAEhBL,QAAQ,CAACR,WAAW,CAACY,QAAD,CAAZ,CAAR,CACD,CAHD,IAGO,CACLP,YAAY,CAAC,KAAD,CAAZ,CACAE,uBAAuB,CAAC,IAAD,CAAvB,CACD,CATmB,sDAAH,kBAAbE,CAAAA,aAAa,0CAAnB,CAYA,mBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,aAAK,SAAS,CAAC,4BAAf,wBACE,YAAK,SAAS,CAAC,kCAAf,uBACE,KAAC,SAAD,EACE,KAAK,CAAC,yBADR,CAEE,KAAK,CAAEP,OAFT,CAGE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,UAAU,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAHZ,EADF,EADF,cAQE,YAAK,SAAS,CAAC,0CAAf,uBACE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,QAFR,CAGE,KAAK,CAAC,SAHR,CAIE,IAAI,CAAC,OAJP,CAKE,UAAU,CAAEd,OAAO,GAAK,EAL1B,CAME,OAAO,CAAEO,aANX,CAOE,SAAS,CAAEL,SAPb,EADF,EARF,GADF,CAqBGE,oBAAoB,eACnB,KAAC,KAAD,EACE,cAAc,CAAEC,uBADlB,CAEE,MAAM,CAAC,gBAFT,CAGE,IAAI,CAAC,6CAHP,EAtBJ,GADF,CA+BD,CAjDD,CAmDA,cAAeN,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getHospital } from \"../../api/hospital\";\nimport Button from \"../../components/Button/Button\";\nimport InfoInput from \"../../components/Input/InfoInput\";\nimport Modal from \"../../components/Modal/Modal\";\nimport { setHospital } from \"../../store/reducers/hospital\";\nimport \"./SignIn.scss\";\n\nconst SignIn = () => {\n  const [pinCode, setPinCode] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showSignInErrorModal, setShowSignInErrorModal] = useState(false);\n  const dispatch = useDispatch();\n\n  const submitHandler = async () => {\n    setIsLoading(true);\n    const hospitalData = await getHospital({ hid: pinCode });\n    if (hospitalData) {\n      const hospital = hospitalData.result;\n      dispatch(setHospital(hospital));\n    } else {\n      setIsLoading(false);\n      setShowSignInErrorModal(true);\n    }\n  };\n\n  return (\n    <div className=\"hospital-sign-in-background\">\n      <div className=\"hospital-sign-in-container\">\n        <div className=\"hospital-sign-in-input-container\">\n          <InfoInput\n            title=\"Enter hospital PIN code\"\n            value={pinCode}\n            onChange={(e) => setPinCode(e.target.value)}\n          />\n        </div>\n        <div className=\"hospital-sign-in-submit-button-container\">\n          <Button\n            text=\"Submit\"\n            shape=\"square\"\n            theme=\"primary\"\n            size=\"small\"\n            isDisabled={pinCode === \"\"}\n            onClick={submitHandler}\n            isLoading={isLoading}\n          />\n        </div>\n      </div>\n      {showSignInErrorModal && (\n        <Modal\n          openController={setShowSignInErrorModal}\n          header=\"Sign In Failed\"\n          body=\"Please check your PIN number and try again.\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}